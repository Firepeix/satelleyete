(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"0IIh":function(e,t,n){"use strict";var i=n("6xgE");n.n(i).a},"6xgE":function(e,t,n){var i=n("RMCy");"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,a);i.locals&&(e.exports=i.locals)},J49E:function(e,t,n){var i=n("uNyw");"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,a);i.locals&&(e.exports=i.locals)},NhcT:function(e,t,n){"use strict";n.r(t);var i=n("o0o1"),a=n.n(i),l=n("J4SQ"),s=n.n(l);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._worldWind=t,this._scenes=[],this._satellites=[],this._layers={},this._prepareWorldWind()}var t,n,i;return t=e,(n=[{key:"_prepareWorldWind",value:function(){this._worldWind.navigator.range=100981352,this._worldWind.redraw()}},{key:"createBasicLayers",value:function(){this._addLayers(this.basicLayers)}},{key:"addSatellites",value:function(e){this._satellites=e,this._renderSatellites()}},{key:"_renderSatellites",value:function(){var e=this;this._satellites.forEach((function(t){e.addModel("/objects/macro/",t.object,new s.a.Position(t.lat,t.long,t.height),"activeAmateurSatellites")}))}},{key:"update",value:function(e,t){for(var n=this._worldWind.canvasCoordinates(e,t),i=this._worldWind.rayThroughScreenPoint(n),a=null,l=0;null===a&&l<this._scenes.length;)a=this.pick(this._scenes[l],i,l),console.log(l),l++}},{key:"pick",value:function(e,t){return e.hasBeenClicked(this._worldWind.globe,t)?e:null}},{key:"addModel",value:function(e,t,n,i){var a=this,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5e3,r=new s.a.ColladaLoader(n);r.init({dirPath:e}),r.load(t,(function(e){e.scale=l,a._layers[i].addRenderable(e),a._scenes.push(e)}))}},{key:"_addLayers",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.forEach((function(e,i){e.layer.enabled=e.enabled,t._worldWind.addLayer(e.layer),null!==n&&(e.layer.pickEnabled=!0,t._layers[n[i]]=e.layer)}))}},{key:"selectSatellite",value:function(e){this._worldWind.goTo(new s.a.Position(e.lat,e.long,e.height+5e6))}},{key:"createSatelliteLayers",value:function(){var e=this.satelliteLayers;this._addLayers(Object.values(e),Object.keys(e))}},{key:"basicLayers",get:function(){return[{layer:new s.a.BMNGLayer,enabled:!0},{layer:new s.a.BMNGLandsatLayer,enabled:!0},{layer:new s.a.BingAerialLayer(null),enabled:!1},{layer:new s.a.BingAerialWithLabelsLayer(null),enabled:!1},{layer:new s.a.BingRoadsLayer(null),enabled:!1},{layer:new s.a.AtmosphereLayer,enabled:!0},{layer:new s.a.CoordinatesDisplayLayer(this._worldWind),enabled:!0}]}},{key:"satelliteLayers",get:function(){return{activeAmateurSatellites:{layer:new s.a.RenderableLayer("activeAmateurSatellites"),enabled:!0}}}}])&&r(t.prototype,n),i&&r(t,i),e}();function c(e,t,n,i,a,l,s){try{var r=e[l](s),o=r.value}catch(e){return void n(e)}r.done?t(o):Promise.resolve(o).then(i,a)}var d={name:"WorldWind",data:function(){return{worldWind:null}},computed:{canvasClass:function(){return{"cursor-pointer":this.selectSatellites}}},methods:{construct:function(){this.setupCanvas(),this.createWorldwind(),this.worldWind.createBasicLayers(),this.worldWind.createSatelliteLayers(),this.worldWind.addSatellites(this.satellites)},setupCanvas:function(){var e=this.$el.querySelector("#main-view");e.width=document.body.clientWidth,e.height=document.body.clientHeight-144},selectSatellite:function(e){this.worldWind.selectSatellite(this.satellites.find((function(t){return e===t.id})))},update:function(e){var t,n=this;return(t=a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.selectSatellites&&(n.worldWind.update(e.clientX,e.clientY),n.$emit("updated"));case 1:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(i,a){var l=t.apply(e,n);function s(e){c(l,i,a,s,r,"next",e)}function r(e){c(l,i,a,s,r,"throw",e)}s(void 0)}))})()},createWorldwind:function(){s.a.Logger.setLoggingLevel(s.a.Logger.LEVEL_WARNING),this.worldWind=new o(new s.a.WorldWindow("main-view"))}},props:{satellites:{type:Array,default:function(){return[]}},selectSatellites:{type:Boolean,default:!1}},mounted:function(){var e=this;this.$nextTick((function(){return e.construct()}))}},u=(n("h/88"),n("KHd+")),h=Object(u.a)(d,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("canvas",{class:this.canvasClass,staticStyle:{width:"100%",height:"auto","background-color":"black"},attrs:{id:"main-view"},on:{click:this.update}},[this._v("\n    Your browser does not support HTML5 Canvas.\n  ")])])}),[],!1,null,"00e1c498",null).exports;function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f=function(){function e(t,n,i,a,l,s,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=t,this._lat=n,this._long=i,this._height=a,this._name=l,this._status=s,this._type=r}var t,n,i;return t=e,(n=[{key:"id",get:function(){return this._id}},{key:"lat",get:function(){return this._lat}},{key:"long",get:function(){return this._long}},{key:"height",get:function(){return this._height}},{key:"name",get:function(){return this._name}},{key:"isActive",get:function(){return"Lixo"!==this._status}},{key:"type",get:function(){return this._type}},{key:"object",get:function(){return"ball.dae"}}])&&v(t.prototype,n),i&&v(t,i),e}();function y(e,t,n,i,a,l,s){try{var r=e[l](s),o=r.value}catch(e){return void n(e)}r.done?t(o):Promise.resolve(o).then(i,a)}var p={name:"Index",data:function(){return{satelliteInfo:!1,selectedSatellite:null,satellites:[],selectSatellites:!1}},computed:{displaySatellite:function(){var e=this;return this.satellites.find((function(t){return t.id===e.selectedSatellite}))}},watch:{selectedSatellite:function(){this.$refs.world.selectSatellite(this.selectedSatellite)}},methods:{construct:function(){this.getSatellites()},getSatellites:function(){var e,t=this;return(e=a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("".concat(t.$apiUrl,"/satellites"));case 2:200===(n=e.sent).status&&(n.data.forEach((function(e){if(void 0!==e.lat){var n=new f(e.id,e.lat,e.long,e.height,e.name,e.status,e.type);t.satellites.push(n)}})),t.$emit("input",t.satellites));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,a){var l=e.apply(t,n);function s(e){y(l,i,a,s,r,"next",e)}function r(e){y(l,i,a,s,r,"throw",e)}s(void 0)}))})()},enableSelectSatellites:function(){this.selectSatellites=!0},hoverSat:function(e){},selectSat:function(e){e===this.selectedSatellite&&(this.selectedSatellite=null),this.selectedSatellite=e,this.satelliteInfo=!0}},mounted:function(){var e=this;this.$nextTick((function(){return e.construct()}))},components:{WorldWind:h}},g=(n("0IIh"),Object(u.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.satellites.length>0?n("world-wind",{ref:"world",attrs:{"select-satellites":e.selectSatellites,satellites:e.satellites}}):e._e(),e._v(" "),null!==e.selectedSatellite?n("v-dialog",{attrs:{persistent:"","hide-overlay":"",width:"400"},model:{value:e.satelliteInfo,callback:function(t){e.satelliteInfo=t},expression:"satelliteInfo"}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2"},[e._v("\n        Satellite: "+e._s(e.displaySatellite.name)+"\n      ")]),e._v(" "),n("v-card-text",[n("div",{staticClass:"header d-flex justify-space-between"},[n("div",[e._v("Latitude")]),e._v(" "),n("div",[e._v("Longitude")]),e._v(" "),n("div",[e._v("Altitude")])]),e._v(" "),n("div",{staticClass:"d-flex justify-space-between"},[n("div",[e._v(e._s(e.displaySatellite.lat<0?String(-1*e.displaySatellite.lat).slice(0,6):String(e.displaySatellite.lat).slice(0,6))+"° "+e._s(e.displaySatellite.lat<0?"S":"N"))]),e._v(" "),n("div",[e._v(e._s(e.displaySatellite.long<0?String(-1*e.displaySatellite.long).slice(0,6):String(e.displaySatellite.long).slice(0,6))+"° "+e._s(e.displaySatellite.long<0?"W":"E"))]),e._v(" "),n("div",[e._v(e._s(String(e.displaySatellite.height).slice(0,5))+"m")])])]),e._v(" "),n("v-divider"),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.satelliteInfo=!1}}},[e._v("\n          Close\n        ")])],1)],1)],1):e._e()],1)}),[],!1,null,null,null));t.default=g.exports},RMCy:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,".v-dialog{margin:24px 24px 154px 24px}.v-dialog .v-card__text{padding-top:24px !important}.v-dialog .v-card__text .header{font-weight:800}.v-dialog__content{justify-content:flex-start}",""])},"h/88":function(e,t,n){"use strict";var i=n("J49E");n.n(i).a},uNyw:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,".cursor-pointer[data-v-00e1c498]{cursor:pointer}",""])}}]);